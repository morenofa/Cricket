define([],function(){function n(r,t,e){if(r===t)return 0!==r||1/r==1/t;if(null==r||null==t)return r===t;if(r._chain&&(r=r._wrapped),t._chain&&(t=t._wrapped),r.isEqual&&x.isFunction(r.isEqual))return r.isEqual(t);if(t.isEqual&&x.isFunction(t.isEqual))return t.isEqual(r);var u=c.call(r);if(u!=c.call(t))return!1;switch(u){case"[object String]":return r==String(t);case"[object Number]":return r!=+r?t!=+t:0==r?1/r==1/t:r==+t;case"[object Date]":case"[object Boolean]":return+r==+t;case"[object RegExp]":return r.source==t.source&&r.global==t.global&&r.multiline==t.multiline&&r.ignoreCase==t.ignoreCase}if("object"!=typeof r||"object"!=typeof t)return!1;for(var i=e.length;i--;)if(e[i]==r)return!0;e.push(r);var a=0,o=!0;if("[object Array]"==u){if(a=r.length,o=a==t.length)for(;a--&&(o=a in r==a in t&&n(r[a],t[a],e)););}else{if("constructor"in r!="constructor"in t||r.constructor!=t.constructor)return!1;for(var l in r)if(x.has(r,l)&&(a++,!(o=x.has(t,l)&&n(r[l],t[l],e))))break;if(o){for(l in t)if(x.has(t,l)&&!a--)break;o=!a}}return e.pop(),o}var r={},t=Array.prototype,e=Object.prototype,u=Function.prototype,i=t.slice,a=t.unshift,c=e.toString,o=e.hasOwnProperty,l=t.forEach,f=t.map,s=t.reduce,p=t.reduceRight,h=t.filter,v=t.every,g=t.some,m=t.indexOf,d=t.lastIndexOf,y=Array.isArray,b=Object.keys,j=u.bind,x=function(n){return new I(n)};x.VERSION="1.3.3";var A=x.each=x.forEach=function(n,t,e){if(null!=n)if(l&&n.forEach===l)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(u in n&&t.call(e,n[u],u,n)===r)return}else for(var a in n)if(x.has(n,a)&&t.call(e,n[a],a,n)===r)return};x.map=x.collect=function(n,r,t){var e=[];return null==n?e:f&&n.map===f?n.map(r,t):(A(n,function(n,u,i){e[e.length]=r.call(t,n,u,i)}),n.length===+n.length&&(e.length=n.length),e)},x.reduce=x.foldl=x.inject=function(n,r,t,e){var u=arguments.length>2;if(null==n&&(n=[]),s&&n.reduce===s)return e&&(r=x.bind(r,e)),u?n.reduce(r,t):n.reduce(r);if(A(n,function(n,i,a){u?t=r.call(e,t,n,i,a):(t=n,u=!0)}),!u)throw new TypeError("Reduce of empty array with no initial value");return t},x.reduceRight=x.foldr=function(n,r,t,e){var u=arguments.length>2;if(null==n&&(n=[]),p&&n.reduceRight===p)return e&&(r=x.bind(r,e)),u?n.reduceRight(r,t):n.reduceRight(r);var i=x.toArray(n).reverse();return e&&!u&&(r=x.bind(r,e)),u?x.reduce(i,r,t,e):x.reduce(i,r)},x.find=x.detect=function(n,r,t){var e;return _(n,function(n,u,i){return r.call(t,n,u,i)?(e=n,!0):void 0}),e},x.filter=x.select=function(n,r,t){var e=[];return null==n?e:h&&n.filter===h?n.filter(r,t):(A(n,function(n,u,i){r.call(t,n,u,i)&&(e[e.length]=n)}),e)},x.reject=function(n,r,t){var e=[];return null==n?e:(A(n,function(n,u,i){r.call(t,n,u,i)||(e[e.length]=n)}),e)},x.every=x.all=function(n,t,e){var u=!0;return null==n?u:v&&n.every===v?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var _=x.some=x.any=function(n,t,e){t||(t=x.identity);var u=!1;return null==n?u:g&&n.some===g?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};x.include=x.contains=function(n,r){var t=!1;return null==n?t:m&&n.indexOf===m?-1!=n.indexOf(r):t=_(n,function(n){return n===r})},x.invoke=function(n,r){var t=i.call(arguments,2);return x.map(n,function(n){return(x.isFunction(r)?r||n:n[r]).apply(n,t)})},x.pluck=function(n,r){return x.map(n,function(n){return n[r]})},x.max=function(n,r,t){if(!r&&x.isArray(n)&&n[0]===+n[0])return Math.max.apply(Math,n);if(!r&&x.isEmpty(n))return-1/0;var e={computed:-1/0};return A(n,function(n,u,i){var a=r?r.call(t,n,u,i):n;a>=e.computed&&(e={value:n,computed:a})}),e.value},x.min=function(n,r,t){if(!r&&x.isArray(n)&&n[0]===+n[0])return Math.min.apply(Math,n);if(!r&&x.isEmpty(n))return 1/0;var e={computed:1/0};return A(n,function(n,u,i){var a=r?r.call(t,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},x.shuffle=function(n){var r,t=[];return A(n,function(n,e){r=Math.floor(Math.random()*(e+1)),t[e]=t[r],t[r]=n}),t},x.sortBy=function(n,r,t){var e=x.isFunction(r)?r:function(n){return n[r]};return x.pluck(x.map(n,function(n,r,u){return{value:n,criteria:e.call(t,n,r,u)}}).sort(function(n,r){var t=n.criteria,e=r.criteria;return void 0===t?1:void 0===e?-1:e>t?-1:t>e?1:0}),"value")},x.groupBy=function(n,r){var t={},e=x.isFunction(r)?r:function(n){return n[r]};return A(n,function(n,r){var u=e(n,r);(t[u]||(t[u]=[])).push(n)}),t},x.sortedIndex=function(n,r,t){t||(t=x.identity);for(var e=0,u=n.length;u>e;){var i=e+u>>1;t(n[i])<t(r)?e=i+1:u=i}return e},x.toArray=function(n){return n?x.isArray(n)?i.call(n):x.isArguments(n)?i.call(n):n.toArray&&x.isFunction(n.toArray)?n.toArray():x.values(n):[]},x.size=function(n){return x.isArray(n)?n.length:x.keys(n).length},x.first=x.head=x.take=function(n,r,t){return null==r||t?n[0]:i.call(n,0,r)},x.initial=function(n,r,t){return i.call(n,0,n.length-(null==r||t?1:r))},x.last=function(n,r,t){return null==r||t?n[n.length-1]:i.call(n,Math.max(n.length-r,0))},x.rest=x.tail=function(n,r,t){return i.call(n,null==r||t?1:r)},x.compact=function(n){return x.filter(n,function(n){return!!n})},x.flatten=function(n,r){return x.reduce(n,function(n,t){return x.isArray(t)?n.concat(r?t:x.flatten(t)):(n[n.length]=t,n)},[])},x.without=function(n){return x.difference(n,i.call(arguments,1))},x.uniq=x.unique=function(n,r,t){var e=t?x.map(n,t):n,u=[];return n.length<3&&(r=!0),x.reduce(e,function(t,e,i){return(r?x.last(t)===e&&t.length:x.include(t,e))||(t.push(e),u.push(n[i])),t},[]),u},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=x.intersect=function(n){var r=i.call(arguments,1);return x.filter(x.uniq(n),function(n){return x.every(r,function(r){return x.indexOf(r,n)>=0})})},x.difference=function(n){var r=x.flatten(i.call(arguments,1),!0);return x.filter(n,function(n){return!x.include(r,n)})},x.zip=function(){for(var n=i.call(arguments),r=x.max(x.pluck(n,"length")),t=new Array(r),e=0;r>e;e++)t[e]=x.pluck(n,""+e);return t},x.indexOf=function(n,r,t){if(null==n)return-1;var e,u;if(t)return e=x.sortedIndex(n,r),n[e]===r?e:-1;if(m&&n.indexOf===m)return n.indexOf(r);for(e=0,u=n.length;u>e;e++)if(e in n&&n[e]===r)return e;return-1},x.lastIndexOf=function(n,r){if(null==n)return-1;if(d&&n.lastIndexOf===d)return n.lastIndexOf(r);for(var t=n.length;t--;)if(t in n&&n[t]===r)return t;return-1},x.range=function(n,r,t){arguments.length<=1&&(r=n||0,n=0),t=arguments[2]||1;for(var e=Math.max(Math.ceil((r-n)/t),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=t;return i};var w=function(){};x.bind=function(n,r){var t,e;if(n.bind===j&&j)return j.apply(n,i.call(arguments,1));if(!x.isFunction(n))throw new TypeError;return e=i.call(arguments,2),t=function(){if(!(this instanceof t))return n.apply(r,e.concat(i.call(arguments)));w.prototype=n.prototype;var u=new w,a=n.apply(u,e.concat(i.call(arguments)));return Object(a)===a?a:u}},x.bindAll=function(n){var r=i.call(arguments,1);return 0==r.length&&(r=x.functions(n)),A(r,function(r){n[r]=x.bind(n[r],n)}),n},x.memoize=function(n,r){var t={};return r||(r=x.identity),function(){var e=r.apply(this,arguments);return x.has(t,e)?t[e]:t[e]=n.apply(this,arguments)}},x.delay=function(n,r){var t=i.call(arguments,2);return setTimeout(function(){return n.apply(null,t)},r)},x.defer=function(n){return x.delay.apply(x,[n,1].concat(i.call(arguments,1)))},x.throttle=function(n,r){var t,e,u,i,a,c,o=x.debounce(function(){a=i=!1},r);return function(){t=this,e=arguments;var l=function(){u=null,a&&n.apply(t,e),o()};return u||(u=setTimeout(l,r)),i?a=!0:c=n.apply(t,e),o(),i=!0,c}},x.debounce=function(n,r,t){var e;return function(){var u=this,i=arguments,a=function(){e=null,t||n.apply(u,i)};t&&!e&&n.apply(u,i),clearTimeout(e),e=setTimeout(a,r)}},x.once=function(n){var r,t=!1;return function(){return t?r:(t=!0,r=n.apply(this,arguments))}},x.wrap=function(n,r){return function(){var t=[n].concat(i.call(arguments,0));return r.apply(this,t)}},x.compose=function(){var n=arguments;return function(){for(var r=arguments,t=n.length-1;t>=0;t--)r=[n[t].apply(this,r)];return r[0]}},x.after=function(n,r){return 0>=n?r():function(){return--n<1?r.apply(this,arguments):void 0}},x.keys=b||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var r=[];for(var t in n)x.has(n,t)&&(r[r.length]=t);return r},x.values=function(n){return x.map(n,x.identity)},x.functions=x.methods=function(n){var r=[];for(var t in n)x.isFunction(n[t])&&r.push(t);return r.sort()},x.extend=function(n){return A(i.call(arguments,1),function(r){for(var t in r)n[t]=r[t]}),n},x.pick=function(n){var r={};return A(x.flatten(i.call(arguments,1)),function(t){t in n&&(r[t]=n[t])}),r},x.defaults=function(n){return A(i.call(arguments,1),function(r){for(var t in r)null==n[t]&&(n[t]=r[t])}),n},x.clone=function(n){return x.isObject(n)?x.isArray(n)?n.slice():x.extend({},n):n},x.tap=function(n,r){return r(n),n},x.isEqual=function(r,t){return n(r,t,[])},x.isEmpty=function(n){if(null==n)return!0;if(x.isArray(n)||x.isString(n))return 0===n.length;for(var r in n)if(x.has(n,r))return!1;return!0},x.isElement=function(n){return!(!n||1!=n.nodeType)},x.isArray=y||function(n){return"[object Array]"==c.call(n)},x.isObject=function(n){return n===Object(n)},x.isArguments=function(n){return"[object Arguments]"==c.call(n)},x.isArguments(arguments)||(x.isArguments=function(n){return!(!n||!x.has(n,"callee"))}),x.isFunction=function(n){return"[object Function]"==c.call(n)},x.isString=function(n){return"[object String]"==c.call(n)},x.isNumber=function(n){return"[object Number]"==c.call(n)},x.isFinite=function(n){return x.isNumber(n)&&isFinite(n)},x.isNaN=function(n){return n!==n},x.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==c.call(n)},x.isDate=function(n){return"[object Date]"==c.call(n)},x.isRegExp=function(n){return"[object RegExp]"==c.call(n)},x.isNull=function(n){return null===n},x.isUndefined=function(n){return void 0===n},x.has=function(n,r){return o.call(n,r)},x.noConflict=function(){return root._=previousUnderscore,this},x.identity=function(n){return n},x.times=function(n,r,t){for(var e=0;n>e;e++)r.call(t,e)},x.escape=function(n){return(""+n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},x.result=function(n,r){if(null==n)return null;var t=n[r];return x.isFunction(t)?t.call(n):t},x.mixin=function(n){A(x.functions(n),function(r){N(r,x[r]=n[r])})};var E=0;x.uniqueId=function(n){var r=E++;return n?n+r:r},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/.^/,F={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var q in F)F[F[q]]=q;var k=/\\|'|\r|\n|\t|\u2028|\u2029/g,S=/\\(\\|'|r|n|t|u2028|u2029)/g,R=function(n){return n.replace(S,function(n,r){return F[r]})};x.template=function(n,r,t){t=x.defaults(t||{},x.templateSettings);var e="__p+='"+n.replace(k,function(n){return"\\"+F[n]}).replace(t.escape||O,function(n,r){return"'+\n_.escape("+R(r)+")+\n'"}).replace(t.interpolate||O,function(n,r){return"'+\n("+R(r)+")+\n'"}).replace(t.evaluate||O,function(n,r){return"';\n"+R(r)+"\n;__p+='"})+"';\n";t.variable||(e="with(obj||{}){\n"+e+"}\n"),e="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+e+"return __p;\n";var u=new Function(t.variable||"obj","_",e);if(r)return u(r,x);var i=function(n){return u.call(this,n,x)};return i.source="function("+(t.variable||"obj")+"){\n"+e+"}",i},x.chain=function(n){return x(n).chain()};var I=function(n){this._wrapped=n};x.prototype=I.prototype;var M=function(n,r){return r?x(n).chain():n},N=function(n,r){I.prototype[n]=function(){var n=i.call(arguments);return a.call(n,this._wrapped),M(r.apply(x,n),this._chain)}};return x.mixin(x),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var r=t[n];I.prototype[n]=function(){var t=this._wrapped;r.apply(t,arguments);var e=t.length;return"shift"!=n&&"splice"!=n||0!==e||delete t[0],M(t,this._chain)}}),A(["concat","join","slice"],function(n){var r=t[n];I.prototype[n]=function(){return M(r.apply(this._wrapped,arguments),this._chain)}}),I.prototype.chain=function(){return this._chain=!0,this},I.prototype.value=function(){return this._wrapped},x});